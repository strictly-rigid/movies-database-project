!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},t=n.parcelRequired7c6;null==t&&((t=function(e){if(e in s)return s[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return s[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=t);var a=t("bpxeT"),o=t("2TvXO"),i={form:document.querySelector(".search-form-series"),seriesContainer:document.querySelector(".series-data-container"),seriesList:document.querySelector(".series-list"),targetObserverSeries:document.querySelector(".js-guard-series"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".series-backdrop"),modalWrapper:document.querySelector(".series-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-series"),closeBtn:document.querySelector(".modal-close-btn")},c=t("4s6iC");c=t("4s6iC");function l(e,n){return e.map((function(e){var s=n.find((function(n){return n.id===e}));return s?s.name:""})).filter(Boolean).join(", ")}function u(e){var n=e.map((function(e){var n=e.id,s=e.name,r=e.overview,t=e.vote_average,a=e.poster_path,o=e.first_air_date,i=l(e.genre_ids,c.genres);return'<li class="series-item" data-id='.concat(n,'>\n            <img src="').concat(c.URLS.POSTER_URL).concat(a,'" class="series-poster" alt="series poster">\n            <div class="series-info">\n            <h2 class="series-title">').concat(s,'</h2>\n            <p class="series-description">').concat(r,'</p>\n            <p class="series-genres">Genres: ').concat(i||"No data",'</p>\n            <p class="series-premiere">Premiere date: ').concat(o,'</p>\n            <span class="series-rate">Rating: ').concat(t.toFixed(2),"</span>\n            </div>\n          </li>")})).join("");i.seriesList.insertAdjacentHTML("beforeend",n)}c=t("4s6iC");function p(e){var n=e.map((function(e){var n=e.id,s=e.genre_ids,r=e.name,t=e.overview,a=e.first_air_date,o=e.vote_average,i=e.vote_count,u=e.poster_path,p=l(s,c.genres);return'<li class="series-item" data-id='.concat(n,'>\n            <img src="').concat(c.URLS.POSTER_URL).concat(u,'" class="series-poster" alt="series poster">\n            <div class="series-info">\n            <h2 class="series-title">').concat(r,'</h2>\n            <p class="series-description">').concat(t,'</p>\n              <p class="series-genres">Genres: ').concat(p||"No data",'</p>\n                <p class="series-premiere">Premiere date: ').concat(a,'</p>\n                 <span class="series-rate">Rating: ').concat(o.toFixed(2),'</span> \n                 <span class="series-rate-count">Total votes: ').concat(i,"</span> \n          </div>     \n          </li>")})).join("");i.seriesList.insertAdjacentHTML("beforeend",n)}a=t("bpxeT"),o=t("2TvXO");var d=t("dIxxU");function f(e,n,s,r){return v.apply(this,arguments)}function v(){return(v=e(a)(e(o).mark((function n(s,r,t,a){var i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.default.get("".concat(r,"?api_key=").concat(s,"&query=").concat(t,"&page=").concat(a));case 3:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching trending series:",e.t0.message);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}a=t("bpxeT"),o=t("2TvXO"),d=t("dIxxU");function m(e,n,s){return g.apply(this,arguments)}function g(){return(g=e(a)(e(o).mark((function n(s,r,t){var a,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,d.default.get("".concat(r,"/").concat(t,"?api_key=").concat(s));case 4:return a=e.sent,console.log(a),i=a.data,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching series:",e.t0.message);case 13:return e.prev=13,!1,e.finish(13);case 16:case"end":return e.stop()}}),n,null,[[0,10,13,16]])})))).apply(this,arguments)}a=t("bpxeT"),o=t("2TvXO"),c=t("4s6iC");var h,b=t("gOfal"),_=t("lG111"),y=null!==(h=JSON.parse(localStorage.getItem("favorite_series")))&&void 0!==h?h:[];function S(e){return L.apply(this,arguments)}function L(){return(L=e(a)(e(o).mark((function n(s){var r,t,a,l,u,p,d,f,v,m,g,h,_,y,S,L,w,k;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.id,t=s.created_by,a=s.in_production,l=s.languages,u=s.genres,p=s.origin_country,d=s.name,f=s.first_air_date,v=s.number_of_seasons,m=s.number_of_episodes,g=s.vote_average,h=s.vote_count,_=s.overview,y=s.poster_path,S=u.map((function(e){return e.name})).join(", "),L=l.map((function(e){return e})).join(", "),w=t.map((function(e){return e.name})).join(", "),k='<div class="series-item-detailed" id='.concat(r,'>\n       <img src="').concat(c.URLS.POSTER_URL).concat(y,'" class="series-poster" alt="series poster">\n        <h2 class="modal-title">').concat(d,'</h2>\n        <p class="modal-genres"><span class="modal-bold">Genres:</span> ').concat(S,'</p>\n       \n        <p class="orig-country"><span class="modal-bold">Origin country:</span> ').concat(p,'</p>\n        <p class="in-production"><span class="modal-bold">Still in production:</span> ').concat(a,'</p>\n      \n\n     \n        <p class="first-air-date"><span class="modal-bold">First air date:</span> ').concat(f,'</p>\n        <p class="modal-series-description"><span class="modal-bold">Desription:</span> ').concat(_,'</p>\n      \n        <p class="created-by"><span class="modal-bold">Creators:</span> ').concat(w,'</p>\n        <p class="languages"><span class="modal-bold">Spoken languages:</span> ').concat(L,'</p>\n        <div class="series-length">\n        <span class="seasons"><span class="modal-bold">Number of seasons:</span> ').concat(v,'</span>\n        <span class="episodes"><span class="modal-bold">Number of episodes:</span> ').concat(m,'</span>\n        </div>\n\n        <div class="series-modal-rate">\n         <span class="rating"><span class="modal-bold">Rating:</span> ').concat(g,'</span>\n         <span class="vote-count"><span class="modal-bold">Total votes:</span> ').concat(h,'</span>\n         </div>\n\n         <button type="button" class="series-fav">Add to favorites</button>\n   \n      </div>'),i.backdrop.classList.remove("is-hidden"),i.modalWrapper.innerHTML=k,i.backdrop.addEventListener("click",(function(e){return(0,b.onBackdropClick)(e,E)})),window.addEventListener("keydown",(function(e){return(0,b.onEscKeyPress)(e,E)})),i.closeBtn.addEventListener("click",E),document.querySelector(".series-fav").addEventListener("click",(function(){return R(s)}));case 12:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function E(){i.modalWrapper.innerHTML="",i.backdrop.classList.add("is-hidden"),i.backdrop.removeEventListener("click",E),i.closeBtn.removeEventListener("click",E),window.removeEventListener("keydown",b.onEscKeyPress)}function R(e){var n=y.some((function(n){return n.id===e.id})),s={id:e.id,name:e.name,createdBy:e.created_by,inProduction:e.in_production,languages:e.languages,genres:e.genres,originCountry:e.origin_country,posterPath:e.poster_path,firstAir:e.first_air_date,numberSeasons:e.number_of_seasons,numberEpisodes:e.number_of_episodes,overview:e.overview,voteAverage:e.vote_average,voteCount:e.vote_count};n?(0,_.notifyIsInFavorites)(e.name):(y.push(s),localStorage.setItem("favorite_series",JSON.stringify(y)),(0,_.notifyAddSuccess)(e.name))}_=t("lG111");var w=t("ghquj"),k=t("7t6Gw"),x=void 0,O="",T=1,U=1;function I(e){return q.apply(this,arguments)}function q(){return(q=e(a)(e(o).mark((function n(s){var r,t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.fetchData)(c.URLS.BASE_SERIES_URL,{api_key:x,page:s});case 3:return(r=e.sent).total_pages===U&&((0,_.notifyEndResults)(),C.unobserve(i.targetObserverSeries)),t=r.results,e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log("Error fetching trending series:",e.t0.message);case 12:return e.prev=12,isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}var C=(0,k.setNewObserver)((function(e){e.forEach((function(e){e.isIntersecting&&I(T+=1).then((function(e){return u(e)}))}))}),c.trendingObserverOptions);function N(){return(N=e(a)(e(o).mark((function n(s){var r,t,a,l;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),i.backdrop.classList.add("is-hidden"),O=i.form.searchQuery.value.trim(),j(),e.prev=4,e.next=7,f(x,c.URLS.SEARCH_SERIES_URL,O,U);case 7:r=e.sent,t=r.data,a=t.results,l=t.total_results,a&&a.length>0?(p(a),A.observe(i.targetObserverSearch)):(i.endResultsInfo.classList.remove("visually-hidden"),(0,_.notifyNoResults)()),l&&l<=20&&r.data.total_pages===U&&((0,_.notifyEndResults)(),A.unobserve(i.targetObserverSearch)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error fetching series:",e.t0.message);case 16:return e.prev=16,i.form.searchQuery.value="",e.finish(16);case 19:case"end":return e.stop()}}),n,null,[[4,13,16,19]])})))).apply(this,arguments)}function j(){C.unobserve(i.targetObserverSeries),A.unobserve(i.targetObserverSearch),i.seriesList.innerHTML="",i.endResultsInfo.classList.add("visually-hidden"),U=1}I(T).then((function(e){return u(e)})).then((function(){return C.observe(i.targetObserverSeries)})).catch((function(e){return console.log(e)})),i.form.addEventListener("submit",(function(e){return N.apply(this,arguments)}));var A=(0,k.setNewObserver)((function(e){e.forEach((function(e){e.isIntersecting&&(U+=1,f(x,c.URLS.SEARCH_SERIES_URL,O,U).then((function(e){p(e.data.results)})))}))}),c.searchObserverOptions);function P(){return(P=e(a)(e(o).mark((function n(s){var r,t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!(r=s.target.closest(".series-item"))){e.next=8;break}return t=r.getAttribute("data-id"),e.next=6,m(x,c.URLS.SINGLE_SERIES_URL,t);case 6:S(e.sent);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}i.seriesContainer.addEventListener("click",(function(e){return P.apply(this,arguments)}))}();
//# sourceMappingURL=trendingseries.bb7192c2.js.map
