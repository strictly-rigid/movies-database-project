!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var a=o("bpxeT"),s=o("2TvXO"),c=o("dIxxU"),i={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-people"),closeBtn:document.querySelector(".modal-people-close-icon")},p={BASE_MOVIES_URL:"https://api.themoviedb.org/3/trending/movie/week",BASE_SERIES_URL:"https://api.themoviedb.org/3/trending/tv/week",BASE_PEOPLE_URL:"https://api.themoviedb.org/3/trending/person/week",SEARCH_MOVIE_URL:"https://api.themoviedb.org/3/search/movie",SEARCH_SERIES_URL:"https://api.themoviedb.org/3/search/tv",SINGLE_MOVIE_URL:"https://api.themoviedb.org/3/movie",SINGLE_SERIES_URL:"https://api.themoviedb.org/3/tv",SEARCH_PERSON_URL:"https://api.themoviedb.org/3/search/person",SINGLE_PERSON_URL:"https://api.themoviedb.org/3/person"},l={0:"Not set / not specified",1:"Female",2:"Male",3:"Non-binary"};function d(e){console.log(e);var t=e.map((function(e){var t=e.id,n=e.name,r=e.gender,o=e.known_for_department,a=e.profile_path,s=a?"".concat("https://image.tmdb.org/t/p/w500").concat(a):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",c=l[r]||"Not specified";return'<li class="person-item" data-id='.concat(t,'>\n            <img\n              src="').concat(s,'"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">').concat(n,'</h2>\n            <p class="person-gender">').concat(c,'</p>\n            <p class="popular-movies">Known for: ').concat(o||"No data"," </p>\n          </div>\n          </li>")})).join("");i.peopleList.insertAdjacentHTML("beforeend",t)}function u(e){var t=e.map((function(e){var t=e.id,n=(e.known_for_department,e.name),r=e.gender,o=e.profile_path,a=o?"".concat("https://image.tmdb.org/t/p/w500").concat(o):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",s=l[r]||"Not specified";return'<li class="person-item" data-id='.concat(t,'>\n            <img\n              src="').concat(a,'"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">').concat(n,'</h2>\n            <p class="person-gender">').concat(s,"</p>\n          \n          </li>")})).join("");i.peopleList.insertAdjacentHTML("beforeend",t)}a=o("bpxeT"),s=o("2TvXO"),c=o("dIxxU");function f(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=e(a)(e(s).mark((function t(n,r,o,a){var i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get("".concat(r,"?api_key=").concat(n,"&query=").concat(o,"&page=").concat(a));case 3:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching person:",e.t0.message);case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}a=o("bpxeT"),s=o("2TvXO"),c=o("dIxxU");function v(e,t,n){return m.apply(this,arguments)}function m(){return(m=e(a)(e(s).mark((function t(n,r,o){var a,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,c.default.get("".concat(r,"/").concat(o,"?api_key=").concat(n));case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.log('Error fetching person"s data:',e.t0.message);case 12:return e.prev=12,!1,e.finish(12);case 15:case"end":return e.stop()}}),t,null,[[0,9,12,15]])})))).apply(this,arguments)}a=o("bpxeT"),s=o("2TvXO");var g,b="https://image.tmdb.org/t/p/w500",_="https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",y=null!==(g=JSON.parse(localStorage.getItem("favorites")))&&void 0!==g?g:[];function E(e){return L.apply(this,arguments)}function L(){return(L=e(a)(e(s).mark((function t(n){var r,o,a,c,p,d,u,f,h,v,m,g;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.id,o=n.birthday,a=n.biography,c=n.place_of_birth,p=n.gender,d=n.name,u=n.known_for_department,f=n.profile_path,h=n.popularity,console.log(n),v=f?"".concat(b).concat(f):_,m=l[p]||"Not specified",g='<div class="person-item-detailed" id='.concat(r,'>\n           <img src="').concat(v,'" class="person-image" alt="person image">\n            <h2 class="modal-name modal-title">').concat(d,'</h2>\n            <p class="gender"> <span class="modal-bold"> Gender:</span> ').concat(m,'</p>\n            <p class="birthday"> <span class="modal-bold"> Born:</span> ').concat(o||"unknown",'</p>\n            <p class="place_of_birth"> <span class="modal-bold"> Place of birth:</span> ').concat(c||"unknown",'</span>\n            <p class="known_for"> <span class="modal-bold"> Known for:</span> ').concat(u||"No data",'</p>\n            <p class="biography"> <span class="modal-bold">Bio:</span> ').concat(a||"no info",'</p>\n            <p class="popularity"> <span class="modal-bold"> Popularity:</span> ').concat(h,'</p>\n            <button type="button" class="person-fav">Add to favorites</button>\n          </div>'),i.backdrop.classList.remove("is-hidden"),i.modalWrapper.innerHTML=g,i.backdrop.addEventListener("click",k),window.addEventListener("keydown",w),i.closeBtn.addEventListener("click",S),document.querySelector(".person-fav").addEventListener("click",(function(){return R(n)}));case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function S(){i.modalWrapper.innerHTML="",i.backdrop.classList.add("is-hidden"),i.backdrop.removeEventListener("click",S),i.closeBtn.removeEventListener("click",S),window.removeEventListener("keydown",w)}function w(e){"Escape"===e.code&&S()}function k(e){e.currentTarget===e.target&&S()}function R(e){var t=y.some((function(t){return t.id===e.id})),n={id:e.id,name:e.name,gender:e.gender,birthday:e.birthday,biography:e.biography,knownFor:e.known_for_department,place_of_birth:e.place_of_birth,profile_path:e.profile_path,popularity:e.popularity};t?alert("".concat(e.name," is already in your favorites.")):(y.push(n),localStorage.setItem("favorites",JSON.stringify(y)),alert("".concat(e.name," has been added to favorites!")))}var x=o("lG111"),O="86bcaf318e232372b2e8e2623c959f88",P="",N=1,I=1;function M(e,t,n){return U.apply(this,arguments)}function U(){return(U=e(a)(e(s).mark((function t(n,r,o){var a,p;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,c.default.get("".concat(r,"?api_key=").concat(n,"&page=").concat(o));case 4:return a=e.sent,console.log(a),a.data.total_pages===I&&((0,x.notifyEndResults)(),T.unobserve(i.targetObserverPeople)),p=a.data.results,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching trending people:",e.t0.message);case 14:return e.prev=14,!1,e.finish(14);case 17:case"end":return e.stop()}}),t,null,[[0,11,14,17]])})))).apply(this,arguments)}var T=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&M(O,p.BASE_PEOPLE_URL,N+=1).then((function(e){return d(e)}))}))}),{root:null,rootMargin:"400px",threshold:1});function A(){return(A=e(a)(e(s).mark((function t(n){var r,o,a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),T.unobserve(i.targetObserverPeople),q.unobserve(i.targetObserverSearch),i.backdrop.classList.add("is-hidden"),P=i.form.searchQuery.value.trim(),I=1,e.prev=6,i.peopleList.innerHTML="",i.endResultsInfo.classList.add("visually-hidden"),e.next=11,f(O,p.SEARCH_PERSON_URL,P,I);case 11:r=e.sent,o=r.data,a=o.results,c=o.total_results,a&&a.length>0?(u(a),q.observe(i.targetObserverSearch)):(i.endResultsInfo.classList.remove("visually-hidden"),(0,x.notifyNoResults)()),c&&c<=20&&r.data.total_pages===I&&((0,x.notifyEndResults)(),q.unobserve(i.targetObserverSearch)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("Error fetching person:",e.t0.message);case 20:return e.prev=20,i.form.searchQuery.value="",e.finish(20);case 23:case"end":return e.stop()}}),t,null,[[6,17,20,23]])})))).apply(this,arguments)}M(O,p.BASE_PEOPLE_URL,N).then((function(e){return d(e)})).then((function(){return T.observe(i.targetObserverPeople)})).catch((function(e){return console.log(e)})),i.form.addEventListener("submit",(function(e){return A.apply(this,arguments)}));var q=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&f(O,p.SEARCH_PERSON_URL,P,I+=1).then((function(e){u(e.data.results)}))}))}),{root:null,rootMargin:"400px",threshold:1});function H(){return(H=e(a)(e(s).mark((function t(n){var r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(r=n.target.closest(".person-item"))){e.next=8;break}return o=r.getAttribute("data-id"),e.next=6,v(O,p.SINGLE_PERSON_URL,o);case 6:E(e.sent);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i.peopleContainer.addEventListener("click",(function(e){return H.apply(this,arguments)}))}();
//# sourceMappingURL=trendingpeople.ab487539.js.map
