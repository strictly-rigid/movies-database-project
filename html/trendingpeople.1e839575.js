!function(){function e(e){return e&&e.__esModule?e.default:e}function n(e,n,r,t){Object.defineProperty(e,n,{get:r,set:t,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=r.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){o[e]=n},r.parcelRequired7c6=s),s.register("dXD97",(function(n,r){var t=s("bpxeT"),o=s("2TvXO"),a=s("dIxxU"),c=s("e9iRm"),i=s("4s6iC"),p=s("76fvS"),l=s("iR07C"),u=s("e3qRy"),d=s("iKlHq"),f=s("6W5Ul"),g=s("lG111"),h="86bcaf318e232372b2e8e2623c959f88",v="",m=1,b=1;function y(e,n,r){return _.apply(this,arguments)}function _(){return(_=e(t)(e(o).mark((function n(r,t,s){var i,p;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,a.default.get("".concat(t,"?api_key=").concat(r,"&page=").concat(s));case 4:return i=e.sent,console.log(i),i.data.total_pages===b&&((0,g.notifyEndResults)(),L.unobserve(c.refs3.targetObserverPeople)),p=i.data.results,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching trending people:",e.t0.message);case 14:return e.prev=14,!1,e.finish(14);case 17:case"end":return e.stop()}}),n,null,[[0,11,14,17]])})))).apply(this,arguments)}var L=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(m+=1,y(h,i.URLS.BASE_PEOPLE_URL,m).then((function(e){return(0,p.renderTrendingPeople)(e)})))}))}),{root:null,rootMargin:"400px",threshold:1});function w(){return(w=e(t)(e(o).mark((function n(r){var t,s,a,p;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),L.unobserve(c.refs3.targetObserverPeople),x.unobserve(c.refs3.targetObserverSearch),c.refs3.backdrop.classList.add("is-hidden"),v=c.refs3.form.searchQuery.value.trim(),b=1,e.prev=6,c.refs3.peopleList.innerHTML="",c.refs3.endResultsInfo.classList.add("visually-hidden"),e.next=11,(0,u.searchPerson)(h,i.URLS.SEARCH_PERSON_URL,v,b);case 11:t=e.sent,s=t.data,a=s.results,p=s.total_results,a&&a.length>0?((0,l.renderFoundPerson)(a),x.observe(c.refs3.targetObserverSearch)):(c.refs3.endResultsInfo.classList.remove("visually-hidden"),(0,g.notifyNoResults)()),p&&p<=20&&t.data.total_pages===b&&((0,g.notifyEndResults)(),x.unobserve(c.refs3.targetObserverSearch)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("Error fetching person:",e.t0.message);case 20:return e.prev=20,c.refs3.form.searchQuery.value="",e.finish(20);case 23:case"end":return e.stop()}}),n,null,[[6,17,20,23]])})))).apply(this,arguments)}y(h,i.URLS.BASE_PEOPLE_URL,m).then((function(e){return(0,p.renderTrendingPeople)(e)})).then((function(){return L.observe(c.refs3.targetObserverPeople)})).catch((function(e){return console.log(e)})),c.refs3.form.addEventListener("submit",(function(e){return w.apply(this,arguments)}));var x=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(b+=1,(0,u.searchPerson)(h,i.URLS.SEARCH_PERSON_URL,v,b).then((function(e){var n=e.data.results;(0,l.renderFoundPerson)(n)})))}))}),{root:null,rootMargin:"400px",threshold:1});function P(){return(P=e(t)(e(o).mark((function n(r){var t,s,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(t=r.target.closest(".person-item"))){e.next=8;break}return s=t.getAttribute("data-id"),e.next=6,(0,d.fetchSinglePerson)(h,i.URLS.SINGLE_PERSON_URL,s);case 6:a=e.sent,(0,f.createPersonModalMarkup)(a);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}c.refs3.peopleContainer.addEventListener("click",(function(e){return P.apply(this,arguments)}))})),s.register("e9iRm",(function(e,r){n(e.exports,"refs3",(function(){return t}));var t={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-people"),closeBtn:document.querySelector(".modal-people-close-icon")}})),s.register("76fvS",(function(e,r){n(e.exports,"renderTrendingPeople",(function(){return a}));var t=s("e9iRm"),o=s("4s6iC");function a(e){console.log(e);var n=e.map((function(e){var n=e.id,r=e.name,t=e.gender,s=e.known_for_department,a=e.profile_path,c=a?"".concat("https://image.tmdb.org/t/p/w500").concat(a):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",i=o.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(c,'"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(i,'</p>\n            <p class="popular-movies">Known for: ').concat(s,"</p>\n          </div>\n          </li>")})).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),s.register("iR07C",(function(e,r){n(e.exports,"renderFoundPerson",(function(){return a}));var t=s("e9iRm"),o=s("4s6iC");function a(e){var n=e.map((function(e){var n=e.id,r=(e.known_for_department,e.name),t=e.gender,s=e.profile_path,a=s?"".concat("https://image.tmdb.org/t/p/w500").concat(s):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",c=o.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(a,'"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(c,"</p>\n          \n          </li>")})).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),s.register("e3qRy",(function(r,t){n(r.exports,"searchPerson",(function(){return i}));var o=s("bpxeT"),a=s("2TvXO"),c=s("dIxxU");function i(e,n,r,t){return p.apply(this,arguments)}function p(){return(p=e(o)(e(a).mark((function n(r,t,o,s){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get("".concat(t,"?api_key=").concat(r,"&query=").concat(o,"&page=").concat(s));case 3:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching person:",e.t0.message);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}})),s.register("iKlHq",(function(r,t){n(r.exports,"fetchSinglePerson",(function(){return i}));var o=s("bpxeT"),a=s("2TvXO"),c=s("dIxxU");function i(e,n,r){return p.apply(this,arguments)}function p(){return(p=e(o)(e(a).mark((function n(r,t,o){var s,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,c.default.get("".concat(t,"/").concat(o,"?api_key=").concat(r));case 4:return s=e.sent,i=s.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.log('Error fetching person"s data:',e.t0.message);case 12:return e.prev=12,!1,e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}})),s.register("6W5Ul",(function(r,t){n(r.exports,"createPersonModalMarkup",(function(){return u}));var o=s("bpxeT"),a=s("2TvXO"),c=s("e9iRm"),i=s("4s6iC"),p="https://image.tmdb.org/t/p/w500",l="https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg";function u(e){return d.apply(this,arguments)}function d(){return(d=e(o)(e(a).mark((function n(r){var t,o,s,u,d,v,m,b,y,_,L,w;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.id,o=r.birthday,s=r.biography,u=r.place_of_birth,d=r.gender,v=r.name,m=r.known_for_department,b=r.profile_path,y=r.popularity,console.log(r),_=b?"".concat(p).concat(b):l,L=i.genders[d]||"Not specified",w='<div class="person-item-detailed" id='.concat(t,'>\n           <img src="').concat(_,'" class="person-image" alt="person image">\n            <h2 class="modal-name modal-title">').concat(v,'</h2>\n            <p class="gender"> <span class="modal-bold"> Gender:</span> ').concat(L,'</p>\n            <p class="birthday"> <span class="modal-bold"> Born:</span> ').concat(o||"unknown",'</p>\n            <p class="place_of_birth"> <span class="modal-bold"> Place of birth:</span> ').concat(u||"unknown",'</span>\n            <p class="known_for"> <span class="modal-bold"> Known for:</span> ').concat(m,'</p>\n            <p class="biography"> <span class="modal-bold">Bio:</span> ').concat(s||"no info",'</p>\n            <p class="popularity"> <span class="modal-bold"> Popularity:</span> ').concat(y,"</span>\n          </div>"),c.refs3.backdrop.classList.remove("is-hidden"),c.refs3.modalWrapper.innerHTML=w,c.refs3.backdrop.addEventListener("click",h),window.addEventListener("keydown",g),c.refs3.closeBtn.addEventListener("click",f);case 10:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function f(){c.refs3.modalWrapper.innerHTML="",c.refs3.backdrop.classList.add("is-hidden"),c.refs3.backdrop.removeEventListener("click",f),c.refs3.closeBtn.removeEventListener("click",f),window.removeEventListener("keydown",g)}function g(e){"Escape"===e.code&&f()}function h(e){e.currentTarget===e.target&&f()}})),s("dXD97")}();
//# sourceMappingURL=trendingpeople.1e839575.js.map
