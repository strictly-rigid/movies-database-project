!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=s);var a=s("bpxeT"),o=s("2TvXO"),i=s("dIxxU"),c={form:document.querySelector(".search-form-series"),seriesContainer:document.querySelector(".series-data-container"),seriesList:document.querySelector(".series-list"),targetObserverSeries:document.querySelector(".js-guard-series"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".series-backdrop"),modalWrapper:document.querySelector(".series-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-series"),closeBtn:document.querySelector(".modal-close-btn")},p={BASE_MOVIES_URL:"https://api.themoviedb.org/3/trending/movie/week",BASE_SERIES_URL:"https://api.themoviedb.org/3/trending/tv/week",BASE_PEOPLE_URL:"https://api.themoviedb.org/3/trending/person/week",SEARCH_MOVIE_URL:"https://api.themoviedb.org/3/search/movie",SEARCH_SERIES_URL:"https://api.themoviedb.org/3/search/tv",SINGLE_MOVIE_URL:"https://api.themoviedb.org/3/movie",SINGLE_SERIES_URL:"https://api.themoviedb.org/3/tv",SEARCH_PERSON_URL:"https://api.themoviedb.org/3/search/person",SINGLE_PERSON_URL:"https://api.themoviedb.org/3/person"},l=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function d(e){console.log(e);var n=e.map((function(e){var n=e.id,t=e.name,r=e.overview,s=e.vote_average,a=e.poster_path,o=e.first_air_date;return'<li class="series-item" data-id='.concat(n,'>\n            <img src="').concat("https://image.tmdb.org/t/p/w500").concat(a,'" class="series-poster" alt="series poster">\n            <div class="series-info">\n            <h2 class="series-title">').concat(t,'</h2>\n            <p class="series-description">').concat(r,'</p>\n            <p class="series-premiere">Premiere date: ').concat(o,'</p>\n            <span class="series-rate">Rating: ').concat(s.toFixed(2),"</span>\n            </div>\n          </li>")})).join("");c.seriesList.insertAdjacentHTML("beforeend",n)}function u(e){var n=e.map((function(e){var n=e.id,t=e.genre_ids,r=e.name,s=e.overview,a=e.first_air_date,o=e.vote_average,i=e.vote_count,c=e.poster_path,p=function(e){return e.map((function(e){var n=l.find((function(n){return n.id===e}));return n?n.name:""})).filter(Boolean).join(", ")}(t);return'<li class="series-item" data-id='.concat(n,'>\n            <img src="').concat("https://image.tmdb.org/t/p/w500").concat(c,'" class="series-poster" alt="series poster">\n            <div class="series-info">\n            <h2 class="series-title">').concat(r,'</h2>\n            <p class="series-description">').concat(s,'</p>\n              <p class="series-genres">Genres: ').concat(p||"No data",'</p>\n                <p class="series-premiere">Premiere date: ').concat(a,'</p>\n                 <span class="series-rate">Rating: ').concat(o.toFixed(2),'</span> \n                 <span class="series-rate-count">Total votes: ').concat(i,"</span> \n          </div>     \n          </li>")})).join("");c.seriesList.insertAdjacentHTML("beforeend",n)}a=s("bpxeT"),o=s("2TvXO"),i=s("dIxxU");function m(e,n,t,r){return v.apply(this,arguments)}function v(){return(v=e(a)(e(o).mark((function n(t,r,s,a){var c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.default.get("".concat(r,"?api_key=").concat(t,"&query=").concat(s,"&page=").concat(a));case 3:return c=e.sent,console.log(c),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching trending series:",e.t0.message);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}a=s("bpxeT"),o=s("2TvXO"),i=s("dIxxU");function f(e,n,t){return g.apply(this,arguments)}function g(){return(g=e(a)(e(o).mark((function n(t,r,s){var a,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,i.default.get("".concat(r,"/").concat(s,"?api_key=").concat(t));case 4:return a=e.sent,console.log(a),c=a.data,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching series:",e.t0.message);case 13:return e.prev=13,!1,e.finish(13);case 16:case"end":return e.stop()}}),n,null,[[0,10,13,16]])})))).apply(this,arguments)}a=s("bpxeT"),o=s("2TvXO");var h="https://image.tmdb.org/t/p/w500";function b(e){return _.apply(this,arguments)}function _(){return(_=e(a)(e(o).mark((function n(t){var r,s,a,i,p,l,d,u,m,v,f,g,b,_,L,R,w,x;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.id,s=t.created_by,a=t.in_production,i=t.languages,p=t.genres,l=t.origin_country,d=t.name,u=t.first_air_date,m=t.number_of_seasons,v=t.number_of_episodes,f=t.vote_average,g=t.vote_count,b=t.overview,_=t.poster_path,L=p.map((function(e){return e.name})).join(", "),R=i.map((function(e){return e})).join(", "),w=s.map((function(e){return e.name})).join(", "),x='<div class="series-item-detailed" id='.concat(r,'>\n       <img src="').concat(h).concat(_,'" class="series-poster" alt="series poster">\n        <h2 class="modal-title">').concat(d,'</h2>\n        <p class="modal-genres"><span class="modal-bold">Genres:</span> ').concat(L,'</p>\n       \n        <p class="orig-country"><span class="modal-bold">Origin country:</span> ').concat(l,'</p>\n        <p class="in-production"><span class="modal-bold">Still in production:</span> ').concat(a,'</p>\n      \n\n     \n        <p class="first-air-date"><span class="modal-bold">First air date:</span> ').concat(u,'</p>\n        <p class="modal-series-description"><span class="modal-bold">Desription:</span> ').concat(b,'</p>\n      \n        <p class="created-by"><span class="modal-bold">Creators:</span> ').concat(w,'</p>\n        <p class="languages"><span class="modal-bold">Spoken languages:</span> ').concat(R,'</p>\n        <div class="series-length">\n        <span class="seasons"><span class="modal-bold">Number of seasons:</span> ').concat(m,'</span>\n        <span class="episodes"><span class="modal-bold">Number of episodes:</span> ').concat(v,'</span>\n        </div>\n\n        <div class="series-modal-rate">\n         <span class="rating"><span class="modal-bold">Rating:</span> ').concat(f,'</span>\n         <span class="vote-count"><span class="modal-bold">Total votes:</span> ').concat(g,"</span>\n         </div>\n   \n      </div>"),c.backdrop.classList.remove("is-hidden"),c.modalWrapper.innerHTML=x,c.backdrop.addEventListener("click",y),window.addEventListener("keydown",S),c.closeBtn.addEventListener("click",E);case 10:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function E(){c.modalWrapper.innerHTML="",c.backdrop.classList.add("is-hidden"),c.backdrop.removeEventListener("click",E),c.closeBtn.removeEventListener("click",E),window.removeEventListener("keydown",S)}function S(e){"Escape"===e.code&&E()}function y(e){e.currentTarget===e.target&&E()}var L=s("lG111"),R="86bcaf318e232372b2e8e2623c959f88",w="",x=1,k=1;function I(e,n,t){return O.apply(this,arguments)}function O(){return(O=e(a)(e(o).mark((function n(t,r,s){var a,p;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,i.default.get("".concat(r,"?api_key=").concat(t,"&page=").concat(s));case 4:return a=e.sent,console.log(a),a.data.total_pages===k&&((0,L.notifyEndResults)(),T.unobserve(c.targetObserverSeries)),p=a.data.results,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching trending series:",e.t0.message);case 14:return e.prev=14,!1,e.finish(14);case 17:case"end":return e.stop()}}),n,null,[[0,11,14,17]])})))).apply(this,arguments)}var T=new IntersectionObserver((function(e,n){console.log(e),e.forEach((function(e){e.isIntersecting&&I(R,p.BASE_SERIES_URL,x+=1).then((function(e){return d(e)}))}))}),{root:null,rootMargin:"400px",threshold:1});function U(){return(U=e(a)(e(o).mark((function n(t){var r,s,a,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T.unobserve(c.targetObserverSeries),A.unobserve(c.targetObserverSearch),c.backdrop.classList.add("is-hidden"),w=c.form.searchQuery.value.trim(),k=1,e.prev=6,c.seriesList.innerHTML="",c.endResultsInfo.classList.add("visually-hidden"),e.next=11,m(R,p.SEARCH_SERIES_URL,w,k);case 11:r=e.sent,s=r.data,a=s.results,i=s.total_results,a&&a.length>0?(u(a),A.observe(c.targetObserverSearch)):(c.endResultsInfo.classList.remove("visually-hidden"),(0,L.notifyNoResults)()),i&&i<=20&&r.data.total_pages===k&&((0,L.notifyEndResults)(),A.unobserve(c.targetObserverSearch)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("Error fetching series:",e.t0.message);case 20:return e.prev=20,c.form.searchQuery.value="",e.finish(20);case 23:case"end":return e.stop()}}),n,null,[[6,17,20,23]])})))).apply(this,arguments)}I(R,p.BASE_SERIES_URL,x).then((function(e){return d(e)})).then((function(){return T.observe(c.targetObserverSeries)})).catch((function(e){return console.log(e)})),c.form.addEventListener("submit",(function(e){return U.apply(this,arguments)}));var A=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&m(R,p.SEARCH_SERIES_URL,w,k+=1).then((function(e){u(e.data.results)}))}))}),{root:null,rootMargin:"400px",threshold:1});function M(){return(M=e(a)(e(o).mark((function n(t){var r,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(r=t.target.closest(".series-item"))){e.next=8;break}return s=r.getAttribute("data-id"),e.next=6,f(R,p.SINGLE_SERIES_URL,s);case 6:b(e.sent);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}c.seriesContainer.addEventListener("click",(function(e){return M.apply(this,arguments)}))}();
//# sourceMappingURL=trendingseries.4a73b9df.js.map
