!function(){function e(e){return e&&e.__esModule?e.default:e}function n(e,n,r,t){Object.defineProperty(e,n,{get:r,set:t,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},r.parcelRequired7c6=a),a.register("dXD97",(function(n,r){var t=a("bpxeT"),o=a("2TvXO"),c=a("dIxxU"),s=a("e9iRm"),i=a("4s6iC"),p=a("76fvS"),u=a("iR07C"),l=a("e3qRy"),f=a("iKlHq"),d=a("6W5Ul"),g="86bcaf318e232372b2e8e2623c959f88",h="",m=1,v=1;function b(e,n,r){return y.apply(this,arguments)}function y(){return(y=e(t)(e(o).mark((function n(r,t,a){var s,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,c.default.get("".concat(t,"?api_key=").concat(r,"&page=").concat(a));case 4:return s=e.sent,console.log(s),i=s.data.results,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching trending people:",e.t0.message);case 13:return e.prev=13,!1,e.finish(13);case 16:case"end":return e.stop()}}),n,null,[[0,10,13,16]])})))).apply(this,arguments)}var _=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(m+=1,b(g,i.URLS.BASE_PEOPLE_URL,m).then((function(e){return(0,p.renderTrendingPeople)(e)})))}))}),{root:null,rootMargin:"400px",threshold:1});function x(){return(x=e(t)(e(o).mark((function n(r){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),_.unobserve(s.refs3.targetObserverPeople),s.refs3.backdrop.classList.add("is-hidden"),h=s.refs3.form.searchQuery.value.trim(),e.prev=4,s.refs3.peopleList.innerHTML="",e.next=8,(0,l.searchPerson)(g,i.URLS.SEARCH_PERSON_URL,h,v);case 8:(t=e.sent)&&t.length>0&&(0,u.renderFoundPerson)(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error fetching person:",e.t0.message);case 15:return e.prev=15,P.observe(s.refs3.targetObserverSearch),s.refs3.form.searchQuery.value="",e.finish(15);case 19:case"end":return e.stop()}}),n,null,[[4,12,15,19]])})))).apply(this,arguments)}b(g,i.URLS.BASE_PEOPLE_URL,m).then((function(e){return(0,p.renderTrendingPeople)(e)})).then((function(){return _.observe(s.refs3.targetObserverPeople)})).catch((function(e){return console.log(e)})),s.refs3.form.addEventListener("submit",(function(e){return x.apply(this,arguments)}));var P=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(v+=1,(0,l.searchPerson)(g,i.URLS.SEARCH_PERSON_URL,h,v).then((function(e){return(0,u.renderFoundPerson)(e)})))}))}),{root:null,rootMargin:"400px",threshold:1});function w(){return(w=e(t)(e(o).mark((function n(r){var t,a,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log("Hellow from callback"),!(t=r.target.closest(".person-item"))){e.next=9;break}return a=t.getAttribute("data-id"),e.next=7,(0,f.fetchSinglePerson)(g,i.URLS.SINGLE_PERSON_URL,a);case 7:c=e.sent,(0,d.createPersonModalMarkup)(c);case 9:case"end":return e.stop()}}),n)})))).apply(this,arguments)}s.refs3.peopleContainer.addEventListener("click",(function(e){return w.apply(this,arguments)}))})),a.register("e9iRm",(function(e,r){n(e.exports,"refs3",(function(){return t}));var t={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper")}})),a.register("76fvS",(function(e,r){n(e.exports,"renderTrendingPeople",(function(){return c}));var t=a("e9iRm"),o=a("4s6iC");function c(e){console.log(e);var n=e.map((function(e){var n=e.id,r=e.name,t=e.gender,a=e.known_for_department,c=e.profile_path,s=c?"".concat("https://image.tmdb.org/t/p/w500").concat(c):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",i=o.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(s,'"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(i,'</p>\n            <p class="popular-movies">Known for: ').concat(a,"</p>\n          </div>\n          </li>")})).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),a.register("iR07C",(function(e,r){n(e.exports,"renderFoundPerson",(function(){return c}));var t=a("e9iRm"),o=a("4s6iC");function c(e){console.log(e);var n=e.map((function(e){var n=e.id,r=(e.known_for_department,e.name),t=e.gender,a=e.profile_path,c=a?"".concat("https://image.tmdb.org/t/p/w500").concat(a):"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg",s=o.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(c,'"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(s,"</p>\n          \n          </li>")})).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),a.register("e3qRy",(function(r,t){n(r.exports,"searchPerson",(function(){return i}));var o=a("bpxeT"),c=a("2TvXO"),s=a("dIxxU");function i(e,n,r,t){return p.apply(this,arguments)}function p(){return(p=e(o)(e(c).mark((function n(r,t,o,a){var i,p;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.get("".concat(t,"?api_key=").concat(r,"&query=").concat(o,"&page=").concat(a));case 3:return i=e.sent,console.log(i),p=i.data.results,e.abrupt("return",p);case 9:e.prev=9,e.t0=e.catch(0),console.log("Error fetching person:",e.t0.message);case 12:case"end":return e.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}a("e9iRm")})),a.register("iKlHq",(function(r,t){n(r.exports,"fetchSinglePerson",(function(){return i}));var o=a("bpxeT"),c=a("2TvXO"),s=a("dIxxU");function i(e,n,r){return p.apply(this,arguments)}function p(){return(p=e(o)(e(c).mark((function n(r,t,o){var a,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,s.default.get("".concat(t,"/").concat(o,"?api_key=").concat(r));case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.log('Error fetching person"s data:',e.t0.message);case 12:return e.prev=12,!1,e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}})),a.register("6W5Ul",(function(r,t){n(r.exports,"createPersonModalMarkup",(function(){return p}));var o=a("bpxeT"),c=a("2TvXO"),s=a("e9iRm"),i="https://image.tmdb.org/t/p/w500";function p(e){return u.apply(this,arguments)}function u(){return(u=e(o)(e(c).mark((function n(r){var t,o,a,p,u,l,f,d,g,h;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.id,o=r.birthday,a=r.biography,p=r.place_of_birth,u=r.gender,l=r.name,f=r.known_for_department,d=r.poster_path,g=r.popularity,console.log(r),h='<div class="person-item-detailed" id='.concat(t,'>\n           <img src="').concat(i).concat(d,'" class="movie-poster" alt="movie poster">\n            <h2 class="modal-name">').concat(l,'</h2>\n            <span class="gender">Gender: ').concat(u,'</span>\n            <span class="birthday">Born: ').concat(o,'</span>\n            <span class="place_of_birth">Place of birth:').concat(p,'</span>\n            <p class="known_for">Known for:').concat(f,'</p>\n            <p class="biography">Bio: ').concat(a,'</p>\n            <span class="popularity">Popularity: ').concat(g,"</span>\n          </div>"),s.refs3.backdrop.classList.remove("is-hidden"),s.refs3.modalWrapper.innerHTML=h;case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}})),a("dXD97")}();
//# sourceMappingURL=trendingpeople.323b7ae1.js.map
