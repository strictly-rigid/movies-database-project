function e(e,n,r,o){Object.defineProperty(e,n,{get:r,set:o,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},t=n.parcelRequired7c6;null==t&&((t=function(e){if(e in r)return r[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){o[e]=n},n.parcelRequired7c6=t),t.register("4e31V",(function(e,n){var r=t("2shzp"),o=t("k0oAw"),s=t("8G1wF"),a=t("60bzg"),i=t("48xzL"),c=t("4r0c0"),p=t("i4GBV"),l=t("zRueC");const d="86bcaf318e232372b2e8e2623c959f88";let f="",u=1,g=!1;async function m(e,n,o){try{g=!0;const t=await r.default.get(`${n}?api_key=${e}&page=${o}`);return t.data.results}catch(e){console.log("Error fetching trending people:",e.message)}finally{g=!1}}let h=new IntersectionObserver((function(e,n){console.log(e),e.forEach((e=>{e.isIntersecting&&(u+=1,f?b():m(d,s.URLS.BASE_PEOPLE_URL,u).then((e=>(0,a.renderTrendingPeople)(e))))}))}),{root:null,rootMargin:"400px",threshold:1});async function b(e){e&&e.preventDefault(),h.unobserve(o.refs3.targetObserverPeople),o.refs3.backdrop.classList.add("is-hidden"),f=o.refs3.form.searchQuery.value.trim();try{const e=await(0,c.searchPerson)(d,s.URLS.SEARCH_PERSON_URL,f);(0,i.renderFoundPerson)(e)}catch(e){console.log("Error fetching person:",e.message)}finally{h.observe(o.refs3.targetObserverPeople)}}m(d,s.URLS.BASE_PEOPLE_URL,u).then((e=>(0,a.renderTrendingPeople)(e))).then((()=>h.observe(o.refs3.targetObserverPeople))).catch((e=>console.log(e))),o.refs3.peopleContainer.addEventListener("click",(async function(e){e.preventDefault(),console.log("Hellow from callback");const n=e.target.closest(".person-item");if(n){const e=n.getAttribute("data-id"),r=await(0,p.fetchSinglePerson)(d,s.URLS.SINGLE_PERSON_URL,e);(0,l.createPersonModalMarkup)(r)}})),o.refs3.form.addEventListener("submit",b)})),t.register("k0oAw",(function(n,r){e(n.exports,"refs3",(function(){return o}));const o={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper")}})),t.register("60bzg",(function(n,r){e(n.exports,"renderTrendingPeople",(function(){return a}));var o=t("k0oAw"),s=t("8G1wF");function a(e){console.log(e);const n=e.map((({id:e,name:n,gender:r,known_for_department:o,profile_path:t})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${t?`https://image.tmdb.org/t/p/w500${t}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">${n}</h2>\n            <p class="person-gender">${s.genders[r]||"Not specified"}</p>\n            <p class="popular-movies">Known for: ${o}</p>\n          </div>\n          </li>`)).join("");o.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),t.register("48xzL",(function(n,r){e(n.exports,"renderFoundPerson",(function(){return a}));var o=t("k0oAw"),s=t("8G1wF");function a(e){console.log(e);const n=e.map((({id:e,known_for_department:n,name:r,gender:o,profile_path:t})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${t?`https://image.tmdb.org/t/p/w500${t}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">${r}</h2>\n            <p class="person-gender">${s.genders[o]||"Not specified"}</p>\n          \n          </li>`)).join("");o.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),t.register("4r0c0",(function(n,r){e(n.exports,"searchPerson",(function(){return a}));var o=t("2shzp"),s=t("k0oAw");async function a(e,n,r){try{const t=await o.default.get(`${n}?api_key=${e}&query=${r}`);console.log(t);const a=t.data.results;return a&&(s.refs3.peopleList.innerHTML=""),a}catch(e){console.log("Error fetching person:",e.message)}}})),t.register("i4GBV",(function(n,r){e(n.exports,"fetchSinglePerson",(function(){return a}));var o=t("2shzp");t("k0oAw"),t("8G1wF");let s=!1;async function a(e,n,r){try{s=!0;const t=await o.default.get(`${n}/${r}?api_key=${e}`);return t.data}catch(e){console.log('Error fetching person"s data:',e.message)}finally{s=!1}}})),t.register("zRueC",(function(n,r){e(n.exports,"createPersonModalMarkup",(function(){return s}));var o=t("k0oAw");async function s(e){const{id:n,birthday:r,biography:t,place_of_birth:s,gender:a,name:i,known_for_department:c,poster_path:p,popularity:l}=e;console.log(e);let d=`<div class="person-item-detailed" id=${n}>\n           <img src="https://image.tmdb.org/t/p/w500${p}" class="movie-poster" alt="movie poster">\n            <h2 class="modal-name">${i}</h2>\n            <span class="gender">Gender: ${a}</span>\n            <span class="birthday">Born: ${r}</span>\n            <span class="place_of_birth">Place of birth:${s}</span>\n            <p class="known_for">Known for:${c}</p>\n            <p class="biography">Bio: ${t}</p>\n            <span class="popularity">Popularity: ${l}</span>\n          </div>`;o.refs3.backdrop.classList.remove("is-hidden"),o.refs3.modalWrapper.innerHTML=d}})),t("4e31V");
//# sourceMappingURL=trendingpeople.8d7e8c2a.js.map
