function e(e,n,r,t){Object.defineProperty(e,n,{get:r,set:t,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},n.parcelRequired7c6=o),o.register("4e31V",(function(e,n){var r=o("2shzp"),t=o("k0oAw"),s=o("8G1wF"),a=o("60bzg"),i=o("48xzL"),c=o("4r0c0"),l=o("i4GBV"),p=o("zRueC"),d=o("kj8Rd");const f="86bcaf318e232372b2e8e2623c959f88";let u="",g=1,m=1,h=!1;async function b(e,n,o){try{h=!0;const s=await r.default.get(`${n}?api_key=${e}&page=${o}`);console.log(s),s.data.total_pages===m&&((0,d.notifyEndResults)(),v.unobserve(t.refs3.targetObserverPeople));return s.data.results}catch(e){console.log("Error fetching trending people:",e.message)}finally{h=!1}}let v=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(g+=1,b(f,s.URLS.BASE_PEOPLE_URL,g).then((e=>(0,a.renderTrendingPeople)(e))))}))}),{root:null,rootMargin:"400px",threshold:1});b(f,s.URLS.BASE_PEOPLE_URL,g).then((e=>(0,a.renderTrendingPeople)(e))).then((()=>v.observe(t.refs3.targetObserverPeople))).catch((e=>console.log(e))),t.refs3.form.addEventListener("submit",(async function(e){e.preventDefault(),v.unobserve(t.refs3.targetObserverPeople),y.unobserve(t.refs3.targetObserverSearch),t.refs3.backdrop.classList.add("is-hidden"),u=t.refs3.form.searchQuery.value.trim(),m=1;try{t.refs3.peopleList.innerHTML="",t.refs3.endResultsInfo.classList.add("visually-hidden");const e=await(0,c.searchPerson)(f,s.URLS.SEARCH_PERSON_URL,u,m),{results:n,total_results:r}=e.data;n&&n.length>0?((0,i.renderFoundPerson)(n),y.observe(t.refs3.targetObserverSearch)):(t.refs3.endResultsInfo.classList.remove("visually-hidden"),(0,d.notifyNoResults)()),r&&r<=20&&e.data.total_pages===m&&((0,d.notifyEndResults)(),y.unobserve(t.refs3.targetObserverSearch))}catch(e){console.log("Error fetching person:",e.message)}finally{t.refs3.form.searchQuery.value=""}}));let y=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(m+=1,(0,c.searchPerson)(f,s.URLS.SEARCH_PERSON_URL,u,m).then((e=>{const{results:n}=e.data;(0,i.renderFoundPerson)(n)})))}))}),{root:null,rootMargin:"400px",threshold:1});t.refs3.peopleContainer.addEventListener("click",(async function(e){e.preventDefault();const n=e.target.closest(".person-item");if(n){const e=n.getAttribute("data-id"),r=await(0,l.fetchSinglePerson)(f,s.URLS.SINGLE_PERSON_URL,e);(0,p.createPersonModalMarkup)(r)}}))})),o.register("k0oAw",(function(n,r){e(n.exports,"refs3",(function(){return t}));const t={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-people"),closeBtn:document.querySelector(".modal-people-close-icon")}})),o.register("60bzg",(function(n,r){e(n.exports,"renderTrendingPeople",(function(){return a}));var t=o("k0oAw"),s=o("8G1wF");function a(e){console.log(e);const n=e.map((({id:e,name:n,gender:r,known_for_department:t,profile_path:o})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${o?`https://image.tmdb.org/t/p/w500${o}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">${n}</h2>\n            <p class="person-gender">${s.genders[r]||"Not specified"}</p>\n            <p class="popular-movies">Known for: ${t}</p>\n          </div>\n          </li>`)).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),o.register("48xzL",(function(n,r){e(n.exports,"renderFoundPerson",(function(){return a}));var t=o("k0oAw"),s=o("8G1wF");function a(e){const n=e.map((({id:e,known_for_department:n,name:r,gender:t,profile_path:o})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${o?`https://image.tmdb.org/t/p/w500${o}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">${r}</h2>\n            <p class="person-gender">${s.genders[t]||"Not specified"}</p>\n          \n          </li>`)).join("");t.refs3.peopleList.insertAdjacentHTML("beforeend",n)}})),o.register("4r0c0",(function(n,r){e(n.exports,"searchPerson",(function(){return s}));var t=o("2shzp");async function s(e,n,r,o){try{const s=await t.default.get(`${n}?api_key=${e}&query=${r}&page=${o}`);return console.log(s),s}catch(e){console.log("Error fetching person:",e.message)}}})),o.register("i4GBV",(function(n,r){e(n.exports,"fetchSinglePerson",(function(){return a}));var t=o("2shzp");let s=!1;async function a(e,n,r){try{s=!0;const o=await t.default.get(`${n}/${r}?api_key=${e}`);return o.data}catch(e){console.log('Error fetching person"s data:',e.message)}finally{s=!1}}})),o.register("zRueC",(function(n,r){e(n.exports,"createPersonModalMarkup",(function(){return a}));var t=o("k0oAw"),s=o("8G1wF");async function a(e){const{id:n,birthday:r,biography:o,place_of_birth:a,gender:p,name:d,known_for_department:f,profile_path:u,popularity:g}=e;console.log(e);let m=`<div class="person-item-detailed" id=${n}>\n           <img src="${u?`https://image.tmdb.org/t/p/w500${u}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}" class="person-image" alt="person image">\n            <h2 class="modal-name modal-title">${d}</h2>\n            <p class="gender"> <span class="modal-bold"> Gender:</span> ${s.genders[p]||"Not specified"}</p>\n            <p class="birthday"> <span class="modal-bold"> Born:</span> ${r||"unknown"}</p>\n            <p class="place_of_birth"> <span class="modal-bold"> Place of birth:</span> ${a||"unknown"}</span>\n            <p class="known_for"> <span class="modal-bold"> Known for:</span> ${f}</p>\n            <p class="biography"> <span class="modal-bold">Bio:</span> ${o||"no info"}</p>\n            <p class="popularity"> <span class="modal-bold"> Popularity:</span> ${g}</span>\n          </div>`;t.refs3.backdrop.classList.remove("is-hidden"),t.refs3.modalWrapper.innerHTML=m,t.refs3.backdrop.addEventListener("click",l),window.addEventListener("keydown",c),t.refs3.closeBtn.addEventListener("click",i)}function i(){t.refs3.modalWrapper.innerHTML="",t.refs3.backdrop.classList.add("is-hidden"),t.refs3.backdrop.removeEventListener("click",i),t.refs3.closeBtn.removeEventListener("click",i),window.removeEventListener("keydown",c)}function c(e){"Escape"===e.code&&i()}function l(e){e.currentTarget===e.target&&i()}})),o("4e31V");
//# sourceMappingURL=trendingpeople.dc9b1c71.js.map
