!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return r[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),s=a("2TvXO"),c={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-people"),closeBtn:document.querySelector(".modal-people-close-icon")},i=a("4s6iC");i=a("4s6iC");function p(e){var n=e.map((function(e){var n=e.id,r=e.name,t=e.gender,a=e.known_for_department,o=e.profile_path,s=o?"".concat(i.URLS.POSTER_URL).concat(o):i.URLS.DEFAULT_IMAGE,c=i.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(s,'"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(c,'</p>\n            <p class="popular-movies">Known for: ').concat(a||"No data"," </p>\n          </div>\n          </li>")})).join("");c.peopleList.insertAdjacentHTML("beforeend",n)}i=a("4s6iC");function l(e){var n=e.map((function(e){var n=e.id,r=e.name,t=e.gender,a=e.profile_path,o=a?"".concat(i.URLS.POSTER_URL).concat(a):i.URLS.DEFAULT_IMAGE,s=i.genders[t]||"Not specified";return'<li class="person-item" data-id='.concat(n,'>\n            <img\n              src="').concat(o,'"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">').concat(r,'</h2>\n            <p class="person-gender">').concat(s,"</p>\n          \n          </li>")})).join("");c.peopleList.insertAdjacentHTML("beforeend",n)}o=a("bpxeT"),s=a("2TvXO");var u=a("dIxxU");function d(e,n,r,t){return f.apply(this,arguments)}function f(){return(f=e(o)(e(s).mark((function n(r,t,a,o){var c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.get("".concat(t,"?api_key=").concat(r,"&query=").concat(a,"&page=").concat(o));case 3:return c=e.sent,console.log(c),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching person:",e.t0.message);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}o=a("bpxeT"),s=a("2TvXO"),u=a("dIxxU");function v(e,n,r){return h.apply(this,arguments)}function h(){return(h=e(o)(e(s).mark((function n(r,t,a){var o,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,!0,e.next=4,u.default.get("".concat(t,"/").concat(a,"?api_key=").concat(r));case 4:return o=e.sent,c=o.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log('Error fetching person"s data:',e.t0.message);case 12:return e.prev=12,!1,e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}o=a("bpxeT"),s=a("2TvXO"),i=a("4s6iC");var m,g=a("gOfal"),b=a("lG111"),y=null!==(m=JSON.parse(localStorage.getItem("favorite_people")))&&void 0!==m?m:[];function L(e){return _.apply(this,arguments)}function _(){return(_=e(o)(e(s).mark((function n(r){var t,a,o,p,l,u,d,f,v,h,m,b;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.id,a=r.birthday,o=r.biography,p=r.place_of_birth,l=r.gender,u=r.name,d=r.known_for_department,f=r.profile_path,v=r.popularity,h=f?"".concat(i.URLS.POSTER_URL).concat(f):i.URLS.DEFAULT_IMAGE,m=i.genders[l]||"Not specified",b='<div class="person-item-detailed" id='.concat(t,'>\n           <img src="').concat(h,'" class="person-image" alt="person image">\n            <h2 class="modal-name modal-title">').concat(u,'</h2>\n            <p class="gender"> <span class="modal-bold"> Gender:</span> ').concat(m,'</p>\n            <p class="birthday"> <span class="modal-bold"> Born:</span> ').concat(a||"unknown",'</p>\n            <p class="place_of_birth"> <span class="modal-bold"> Place of birth:</span> ').concat(p||"unknown",'</span>\n            <p class="known_for"> <span class="modal-bold"> Known for:</span> ').concat(d||"No data",'</p>\n            <p class="biography"> <span class="modal-bold">Bio:</span> ').concat(o||"no info",'</p>\n            <p class="popularity"> <span class="modal-bold"> Popularity:</span> ').concat(v,'</p>\n            <button type="button" class="person-fav">Add to favorites</button>\n          </div>'),c.backdrop.classList.remove("is-hidden"),c.modalWrapper.innerHTML=b,c.backdrop.addEventListener("click",(function(e){return(0,g.onBackdropClick)(e,E)})),window.addEventListener("keydown",(function(e){return(0,g.onEscKeyPress)(e,E)})),c.closeBtn.addEventListener("click",E),document.querySelector(".person-fav").addEventListener("click",(function(){return w(r)}));case 11:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function E(){c.modalWrapper.innerHTML="",c.backdrop.classList.add("is-hidden"),c.backdrop.removeEventListener("click",E),c.closeBtn.removeEventListener("click",E),window.removeEventListener("keydown",g.onEscKeyPress)}function w(e){var n=y.some((function(n){return n.id===e.id})),r={id:e.id,name:e.name,gender:e.gender,birthday:e.birthday,biography:e.biography,knownFor:e.known_for_department,placeOfBirth:e.place_of_birth,profile_path:e.profile_path,popularity:e.popularity};n?(0,b.notifyIsInFavorites)(e.name):(y.push(r),localStorage.setItem("favorite_people",JSON.stringify(y)),(0,b.notifyAddSuccess)(e.name))}b=a("lG111"),o=a("bpxeT"),s=a("2TvXO"),u=a("dIxxU");function S(e){return k.apply(this,arguments)}function k(){return k=e(o)(e(s).mark((function n(r){var t,a,o=arguments;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,isLoading=!0,e.next=5,u.default.get(r,{params:t});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching data:",e.t0.message),e.t0;case 13:return e.prev=13,isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),n,null,[[1,9,13,16]])}))),k.apply(this,arguments)}var O="86bcaf318e232372b2e8e2623c959f88",R="",x=1,U=1;function T(e){return I.apply(this,arguments)}function I(){return(I=e(o)(e(s).mark((function n(r){var t,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(i.URLS.BASE_PEOPLE_URL,{api_key:O,page:r});case 3:return(t=e.sent).total_pages===U&&((0,b.notifyEndResults)(),N.unobserve(c.targetObserverPeople)),a=t.results,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log("Error fetching trending people:",e.t0.message);case 12:return e.prev=12,!1,e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}var P,A,N=(P=function(e){e.forEach((function(e){e.isIntersecting&&T(x+=1).then((function(e){return p(e)}))}))},A=i.trendingObserverOptions,new IntersectionObserver(P,A));function q(){return(q=e(o)(e(s).mark((function n(r){var t,a,o,p;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),N.unobserve(c.targetObserverPeople),C.unobserve(c.targetObserverSearch),c.backdrop.classList.add("is-hidden"),R=c.form.searchQuery.value.trim(),U=1,e.prev=6,c.peopleList.innerHTML="",c.endResultsInfo.classList.add("visually-hidden"),e.next=11,d(O,i.URLS.SEARCH_PERSON_URL,R,U);case 11:t=e.sent,a=t.data,o=a.results,p=a.total_results,o&&o.length>0?(l(o),C.observe(c.targetObserverSearch)):(c.endResultsInfo.classList.remove("visually-hidden"),(0,b.notifyNoResults)()),p&&p<=20&&t.data.total_pages===U&&((0,b.notifyEndResults)(),C.unobserve(c.targetObserverSearch)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("Error fetching person:",e.t0.message);case 20:return e.prev=20,c.form.searchQuery.value="",e.finish(20);case 23:case"end":return e.stop()}}),n,null,[[6,17,20,23]])})))).apply(this,arguments)}T(x).then((function(e){return p(e)})).then((function(){return N.observe(c.targetObserverPeople)})).catch((function(e){return console.log(e)})),c.form.addEventListener("submit",(function(e){return q.apply(this,arguments)}));var C=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(U+=1,d(O,i.URLS.SEARCH_PERSON_URL,R,U).then((function(e){l(e.data.results)})))}))}),i.searchObserverOptions);function M(){return(M=e(o)(e(s).mark((function n(r){var t,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(t=r.target.closest(".person-item"))){e.next=8;break}return a=t.getAttribute("data-id"),e.next=6,v(O,i.URLS.SINGLE_PERSON_URL,a);case 6:L(e.sent);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}c.peopleContainer.addEventListener("click",(function(e){return M.apply(this,arguments)}))}();
//# sourceMappingURL=trendingpeople.9e4a5687.js.map
