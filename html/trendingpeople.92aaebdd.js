var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in t){var o=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,o.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},e.parcelRequired7c6=o);var r=o("2shzp");const s={form:document.querySelector(".search-form-people"),peopleContainer:document.querySelector(".people-data-container"),peopleList:document.querySelector(".people-list"),targetObserverPeople:document.querySelector(".js-guard-people"),targetObserverSearch:document.querySelector(".js-guard-search"),backdrop:document.querySelector(".person-backdrop"),modalWrapper:document.querySelector(".person-item-wrapper"),endResultsInfo:document.querySelector(".no-results-info-people"),closeBtn:document.querySelector(".modal-people-close-icon")};var a=o("8G1wF");a=o("8G1wF");function l(e){console.log(e);const n=e.map((({id:e,name:n,gender:t,known_for_department:o,profile_path:r})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${r?`https://image.tmdb.org/t/p/w500${r}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n          <div class="person-info">\n            <h2 class="person-name">${n}</h2>\n            <p class="person-gender">${a.genders[t]||"Not specified"}</p>\n            <p class="popular-movies">Known for: ${o}</p>\n          </div>\n          </li>`)).join("");s.peopleList.insertAdjacentHTML("beforeend",n)}a=o("8G1wF");function c(e){const n=e.map((({id:e,known_for_department:n,name:t,gender:o,profile_path:r})=>`<li class="person-item" data-id=${e}>\n            <img\n              src="${r?`https://image.tmdb.org/t/p/w500${r}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}"\n              class="person-image"\n              alt="person image"\n            />\n            <h2 class="person-name">${t}</h2>\n            <p class="person-gender">${a.genders[o]||"Not specified"}</p>\n          \n          </li>`)).join("");s.peopleList.insertAdjacentHTML("beforeend",n)}r=o("2shzp");async function i(e,n,t,o){try{const s=await r.default.get(`${n}?api_key=${e}&query=${t}&page=${o}`);return console.log(s),s}catch(e){console.log("Error fetching person:",e.message)}}r=o("2shzp");let p=!1;async function d(e,n,t){try{p=!0;const o=await r.default.get(`${n}/${t}?api_key=${e}`);return o.data}catch(e){console.log('Error fetching person"s data:',e.message)}finally{p=!1}}a=o("8G1wF");async function u(e){const{id:n,birthday:t,biography:o,place_of_birth:r,gender:l,name:c,known_for_department:i,profile_path:p,popularity:d}=e;console.log(e);let u=`<div class="person-item-detailed" id=${n}>\n           <img src="${p?`https://image.tmdb.org/t/p/w500${p}`:"https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg"}" class="person-image" alt="person image">\n            <h2 class="modal-name modal-title">${c}</h2>\n            <p class="gender"> <span class="modal-bold"> Gender:</span> ${a.genders[l]||"Not specified"}</p>\n            <p class="birthday"> <span class="modal-bold"> Born:</span> ${t||"unknown"}</p>\n            <p class="place_of_birth"> <span class="modal-bold"> Place of birth:</span> ${r||"unknown"}</span>\n            <p class="known_for"> <span class="modal-bold"> Known for:</span> ${i}</p>\n            <p class="biography"> <span class="modal-bold">Bio:</span> ${o||"no info"}</p>\n            <p class="popularity"> <span class="modal-bold"> Popularity:</span> ${d}</span>\n          </div>`;s.backdrop.classList.remove("is-hidden"),s.modalWrapper.innerHTML=u,s.backdrop.addEventListener("click",m),window.addEventListener("keydown",g),s.closeBtn.addEventListener("click",f)}function f(){s.modalWrapper.innerHTML="",s.backdrop.classList.add("is-hidden"),s.backdrop.removeEventListener("click",f),s.closeBtn.removeEventListener("click",f),window.removeEventListener("keydown",g)}function g(e){"Escape"===e.code&&f()}function m(e){e.currentTarget===e.target&&f()}var h=o("kj8Rd");let b="",v=1,y=1,_=!1;async function L(e,n,t){try{_=!0;const o=await r.default.get(`${n}?api_key=${e}&page=${t}`);console.log(o),o.data.total_pages===y&&((0,h.notifyEndResults)(),w.unobserve(s.targetObserverPeople));return o.data.results}catch(e){console.log("Error fetching trending people:",e.message)}finally{_=!1}}let w=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(v+=1,L("86bcaf318e232372b2e8e2623c959f88",a.URLS.BASE_PEOPLE_URL,v).then((e=>l(e))))}))}),{root:null,rootMargin:"400px",threshold:1});L("86bcaf318e232372b2e8e2623c959f88",a.URLS.BASE_PEOPLE_URL,v).then((e=>l(e))).then((()=>w.observe(s.targetObserverPeople))).catch((e=>console.log(e))),s.form.addEventListener("submit",(async function(e){e.preventDefault(),w.unobserve(s.targetObserverPeople),E.unobserve(s.targetObserverSearch),s.backdrop.classList.add("is-hidden"),b=s.form.searchQuery.value.trim(),y=1;try{s.peopleList.innerHTML="",s.endResultsInfo.classList.add("visually-hidden");const e=await i("86bcaf318e232372b2e8e2623c959f88",a.URLS.SEARCH_PERSON_URL,b,y),{results:n,total_results:t}=e.data;n&&n.length>0?(c(n),E.observe(s.targetObserverSearch)):(s.endResultsInfo.classList.remove("visually-hidden"),(0,h.notifyNoResults)()),t&&t<=20&&e.data.total_pages===y&&((0,h.notifyEndResults)(),E.unobserve(s.targetObserverSearch))}catch(e){console.log("Error fetching person:",e.message)}finally{s.form.searchQuery.value=""}}));let E=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(y+=1,i("86bcaf318e232372b2e8e2623c959f88",a.URLS.SEARCH_PERSON_URL,b,y).then((e=>{const{results:n}=e.data;c(n)})))}))}),{root:null,rootMargin:"400px",threshold:1});s.peopleContainer.addEventListener("click",(async function(e){e.preventDefault();const n=e.target.closest(".person-item");if(n){const e=n.getAttribute("data-id");u(await d("86bcaf318e232372b2e8e2623c959f88",a.URLS.SINGLE_PERSON_URL,e))}}));
//# sourceMappingURL=trendingpeople.92aaebdd.js.map
