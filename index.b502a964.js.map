{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aCAaC,EAAO,CAClBC,KAAMC,SAASC,cAAc,gBAC7BC,gBAAiBF,SAASC,cAAc,mBACxCE,WAAYH,SAASC,cAAc,gBACnCG,qBAAsBJ,SAASC,cAAc,oBAC7CI,qBAAsBL,SAASC,cAAc,oBAC7CK,SAAUN,SAASC,cAAc,aACjCM,aAAcP,SAASC,cAAc,uBACrCO,eAAgBR,SAASC,cAAc,2BACvCQ,SAAUT,SAASC,cAAc,qB,aCTtBS,EAAO,CAClBC,gBAAiB,mDACjBC,gBAAiB,gDACjBC,gBAAiB,oDACjBC,iBAAkB,4CAClBC,kBAAmB,yCACnBC,iBAAkB,qCAClBC,kBAAmB,kCACnBC,kBAAmB,6CACnBC,kBAAmB,uCAGRC,EAAS,CACpB,CACEC,GAAI,GACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,aAER,CACED,GAAI,GACJC,KAAM,aAER,CACED,GAAI,GACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,SAER,CACED,GAAI,GACJC,KAAM,eAER,CACED,GAAI,GACJC,KAAM,SAER,CACED,GAAI,MACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,WAER,CACED,GAAI,GACJC,KAAM,WAER,CACED,GAAI,GACJC,KAAM,UAER,CACED,GAAI,MACJC,KAAM,SAER,CACED,GAAI,KACJC,KAAM,WAER,CACED,GAAI,MACJC,KAAM,WAER,CACED,GAAI,IACJC,KAAM,mBAER,CACED,GAAI,MACJC,KAAM,YAER,CACED,GAAI,GACJC,KAAM,YAER,CACED,GAAI,MACJC,KAAM,OAER,CACED,GAAI,GACJC,KAAM,YCxEH,SAASC,EAAqBC,GACnC,IAAMC,EAAiBD,EACpBE,KACC,SAAAC,G,IACEN,EAAEM,EAAFN,GACAO,EAASD,EAATC,UACAC,EAAcF,EAAdE,eACAC,EAAQH,EAARG,SACAC,EAAYJ,EAAZI,aACAC,EAAWL,EAAXK,YAEMC,EArBd,SAAmBL,GACjB,OAAOA,EACJF,KAAI,SAAAL,GACH,IAAMa,EAAQd,EAAOe,MAAK,SAAAC,G,OAAKA,E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","sources":["src/index.js","src/js/refs.js","src/js/constants.js","src/js/TrendingMovies/renderTrendingMovies.js","src/js/TrendingMovies/renderFoundMovies.js","src/js/TrendingMovies/searchMovie.js","src/js/TrendingMovies/fetchSingleMovie.js","src/js/helpers/createModalMarkup.js"],"sourcesContent":["import { refs } from './js/refs';\nimport axios from 'axios';\nimport { URLS } from './js/constants.js';\n\nimport { renderTrendingMovies } from './js/TrendingMovies/renderTrendingMovies.js';\nimport { renderFoundMovies } from './js/TrendingMovies/renderFoundMovies.js';\n\nimport { searchMovie } from './js/TrendingMovies/searchMovie.js';\nimport { fetchSingleMovie } from './js/TrendingMovies/fetchSingleMovie.js';\nimport { createModalMarkup } from './js/helpers/createModalMarkup.js';\nimport {\n  notifyEndResults,\n  notifyNoResults,\n} from './js/helpers/notifyWarnings.js';\n\nconst API_KEY = '86bcaf318e232372b2e8e2623c959f88';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\n\nlet query = '';\nlet currentPage = 1;\nlet currentSearchPage = 1;\nlet isSearching = false;\n\n/* ====================== TRENDING ======================  */\n\nasync function fetchTrendingMovies(key, url, currentPage) {\n  try {\n    isLoading = true;\n    const response = await axios.get(\n      `${url}?api_key=${key}&page=${currentPage}`\n    );\n\n    if (response.data.total_pages === currentSearchPage) {\n      notifyEndResults();\n      trendingObserver.unobserve(refs.targetObserverMovies);\n    }\n    const dataMovies = response.data.results;\n    return dataMovies;\n  } catch (error) {\n    console.log('Error fetching trending movies:', error.message);\n  } finally {\n    isLoading = false;\n  }\n}\n\nconst trendingObserverOptions = {\n  root: null,\n  rootMargin: '400px',\n  threshold: 1.0,\n};\n\nlet trendingObserver = new IntersectionObserver(\n  onLoadMoreTrending,\n  trendingObserverOptions\n);\nfunction onLoadMoreTrending(entries, observer) {\n  console.log(entries);\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      currentPage += 1;\n      fetchTrendingMovies(API_KEY, URLS.BASE_MOVIES_URL, currentPage).then(\n        data => renderTrendingMovies(data)\n      );\n    }\n  });\n}\n\nfetchTrendingMovies(API_KEY, URLS.BASE_MOVIES_URL, currentPage)\n  .then(data => renderTrendingMovies(data))\n  .then(() => trendingObserver.observe(refs.targetObserverMovies))\n  .catch(err => console.log(err));\n\n/* ====================== SEARCH ======================  */\nrefs.form.addEventListener('submit', searchByName);\n\nasync function searchByName(e) {\n  e.preventDefault();\n\n  trendingObserver.unobserve(refs.targetObserverMovies);\n  searchObserver.unobserve(refs.targetObserverSearch);\n\n  refs.backdrop.classList.add('is-hidden');\n  query = refs.form.searchQuery.value.trim();\n  currentSearchPage = 1;\n\n  try {\n    refs.moviesList.innerHTML = '';\n    refs.endResultsInfo.classList.add('visually-hidden');\n\n    const moviesData = await searchMovie(\n      API_KEY,\n      URLS.SEARCH_MOVIE_URL,\n      query,\n      currentSearchPage\n    );\n\n    const { results, total_results } = moviesData.data;\n\n    if (results && results.length > 0) {\n      renderFoundMovies(results);\n      searchObserver.observe(refs.targetObserverSearch);\n    } else {\n      refs.endResultsInfo.classList.remove('visually-hidden');\n      notifyNoResults();\n    }\n\n    if (\n      total_results &&\n      total_results <= 20 &&\n      moviesData.data.total_pages === currentSearchPage\n    ) {\n      notifyEndResults();\n      searchObserver.unobserve(refs.targetObserverSearch);\n    }\n  } catch (error) {\n    console.log('Error fetching movies:', error.message);\n  } finally {\n    refs.form.searchQuery.value = '';\n  }\n}\n\nconst searchObserverOptions = {\n  root: null,\n  rootMargin: '400px',\n  threshold: 1.0,\n};\n\nlet searchObserver = new IntersectionObserver(\n  onLoadMoreSearch,\n  searchObserverOptions\n);\n\nfunction onLoadMoreSearch(entries) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      currentSearchPage += 1;\n      searchMovie(\n        API_KEY,\n        URLS.SEARCH_MOVIE_URL,\n        query,\n        currentSearchPage\n      ).then(dataFound => {\n        const { results } = dataFound.data;\n        renderFoundMovies(results);\n      });\n    }\n  });\n}\n\n/* ======================  MOVIE'S DETAILS ======================  */\n\nrefs.moviesContainer.addEventListener('click', onMoviesItemClick);\n\nasync function onMoviesItemClick(e) {\n  e.preventDefault();\n\n  const targetElement = e.target.closest('.movies-item');\n  if (targetElement) {\n    const dataId = targetElement.getAttribute('data-id');\n    const data = await fetchSingleMovie(API_KEY, URLS.SINGLE_MOVIE_URL, dataId);\n    createModalMarkup(data);\n  }\n}\n","export const refs = {\n  form: document.querySelector('.search-form'),\n  moviesContainer: document.querySelector('.data-container'),\n  moviesList: document.querySelector('.movies-list'),\n  targetObserverMovies: document.querySelector('.js-guard-movies'),\n  targetObserverSearch: document.querySelector('.js-guard-search'),\n  backdrop: document.querySelector('.backdrop'),\n  modalWrapper: document.querySelector('.movie-item-wrapper'),\n  endResultsInfo: document.querySelector('.no-results-info-movies'),\n  closeBtn: document.querySelector('.modal-close-btn'),\n};\n","export const URLS = {\n  BASE_MOVIES_URL: 'https://api.themoviedb.org/3/trending/movie/week',\n  BASE_SERIES_URL: 'https://api.themoviedb.org/3/trending/tv/week',\n  BASE_PEOPLE_URL: 'https://api.themoviedb.org/3/trending/person/week',\n  SEARCH_MOVIE_URL: 'https://api.themoviedb.org/3/search/movie',\n  SEARCH_SERIES_URL: 'https://api.themoviedb.org/3/search/tv',\n  SINGLE_MOVIE_URL: 'https://api.themoviedb.org/3/movie',\n  SINGLE_SERIES_URL: 'https://api.themoviedb.org/3/tv',\n  SEARCH_PERSON_URL: 'https://api.themoviedb.org/3/search/person',\n  SINGLE_PERSON_URL: 'https://api.themoviedb.org/3/person',\n};\n\nexport const genres = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n\nexport const genders = {\n  0: 'Not set / not specified',\n  1: 'Female',\n  2: 'Male',\n  3: 'Non-binary',\n};\n","import { refs } from '../refs';\nimport { genres } from '../constants';\n\nconst POSTER_URL = `https://image.tmdb.org/t/p/w500`;\n\nfunction getGenres(genre_ids) {\n  return genre_ids\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : '';\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n\nexport function renderTrendingMovies(movies) {\n  const trendingMovies = movies\n    .map(\n      ({\n        id,\n        genre_ids,\n        original_title,\n        overview,\n        vote_average,\n        poster_path,\n      }) => {\n        const genreNames = getGenres(genre_ids);\n        return `<li class=\"movies-item\" data-id=${id}>\n            <img src=\"${POSTER_URL}${poster_path}\" class=\"movie-poster\" alt=\"movie poster\">\n            <div class=\"movie-info\">\n            <h2 class=\"movie-title\">${original_title}</h2>\n            <p class=\"movie-description\">${overview}</p>\n            <p class=\"movie-genres\">Genres: ${\n              genreNames || 'Sorry, no genres available'\n            }</p>\n            <span class=\"movie-rate\">Rating: ${vote_average.toFixed(2)}</span> \n          </div>\n     \n          </li>`;\n      }\n    )\n    .join('');\n\n  refs.moviesList.insertAdjacentHTML('beforeend', trendingMovies);\n}\n","import { refs } from '../refs';\nimport { genres } from '../constants';\n\nconst POSTER_URL = `https://image.tmdb.org/t/p/w500`;\n\nfunction getGenres(genre_ids) {\n  return genre_ids\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : '';\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n\nexport function renderFoundMovies(foundMovies) {\n  const foundItems = foundMovies\n    .map(\n      ({\n        id,\n        genre_ids,\n        original_title,\n        overview,\n        release_date,\n        vote_average,\n        vote_count,\n        poster_path,\n      }) => {\n        const genreNames = getGenres(genre_ids);\n\n        return `<li class=\"movies-item\" data-id=${id}>\n            <img src=\"${POSTER_URL}${poster_path}\" class=\"movie-poster\" alt=\"movie poster\">\n            <div class=\"movie-info\">\n            <h2 class=\"movie-title\">${original_title}</h2>\n            <p class=\"movie-description\">${overview}</p>\n              <p class=\"movie-genres\">Genres: ${\n                genreNames || 'Sorry, no genres available'\n              }</p>\n                <p class=\"movie-genres\">Release date: ${release_date}</p>\n            <span class=\"movie-rate\">Rating: ${vote_average.toFixed(2)}</span> \n                 <span class=\"movie-rate-count\">Total votes: ${vote_count}</span> \n          </div>     \n          </li>`;\n      }\n    )\n    .join('');\n\n  refs.moviesList.insertAdjacentHTML('beforeend', foundItems);\n}\n","import axios from 'axios';\n\nexport async function searchMovie(key, url, searchQuery, page) {\n  try {\n    const response = await axios.get(\n      `${url}?api_key=${key}&query=${searchQuery}&page=${page}`\n    );\n    // console.log(response);\n    return response;\n  } catch (error) {\n    console.log('Error fetching trending movies:', error.message);\n  }\n}\n","import axios from 'axios';\nlet isLoading = false;\n\nexport async function fetchSingleMovie(key, url, id) {\n  try {\n    isLoading = true;\n    const response = await axios.get(`${url}/${id}?api_key=${key}`);\n    console.log(response);\n    const dataMovies = response.data;\n    return dataMovies;\n  } catch (error) {\n    console.log('Error fetching a movie:', error.message);\n  } finally {\n    isLoading = false;\n  }\n}\n\n// import axios from 'axios';\n// import { refs } from '../refs';\n// import { URLS } from '../constants';\n// import { createModalMarkup } from '../helpers/createModalMarkup';\n// const API_KEY = '86bcaf318e232372b2e8e2623c959f88';\n\n// export async function fetchSingleMovie(key, url, id) {\n//   try {\n//     isLoading = true;\n//     const response = await axios.get(`${url}/${id}?api_key=${key}`);\n//     console.log(response);\n//     const dataMovies = response.data;\n//     return dataMovies;\n//   } catch (error) {\n//     console.log('Error fetching a movie:', error.message);\n//   } finally {\n//     isLoading = false;\n//   }\n// }\n\n// if (refs?.moviesContainer) {\n//   refs.moviesContainer.addEventListener('click', onModalOpen);\n// }\n\n// async function onModalOpen(e) {\n//   e.preventDefault();\n//   const targetElement = e.target.closest('.movies-item');\n//   if (targetElement) {\n//     const dataId = targetElement.getAttribute('data-id');\n//     const data = await fetchSingleMovie(API_KEY, URLS.SINGLE_MOVIE_URL, dataId);\n//     createModalMarkup(data);\n//     // window.addEventListener('keydown', onEscKeyPress);\n//     refs.backdrop.addEventListener('click', onBackdropClick);\n//   }\n// }\n\n// // function onEscKeyPress(event) {\n// //   if (event.code === 'Escape') {\n// //     onModalClose();\n// //   }\n// // }\n\n// function onBackdropClick(event) {\n//   if (event.currentTarget === event.target) {\n//     onModalClose();\n//   }\n// }\n\n// function onModalClose() {\n//   refs.modalWrapper.innerHTML = '';\n\n//   refs.backdrop.classList.toggle('is-hidden');\n//   // document.body.classList.remove('modal-open');\n\n//   // refs.backdrop.removeEventListener('click', onModalClose);\n//   // refs.closeBtn.removeEventListener('click', onModalClose);\n//   window.removeEventListener('keydown', onEscKeyPress);\n// }\n","import { refs } from '../refs';\n\nconst POSTER_URL = `https://image.tmdb.org/t/p/w500`;\n\nexport async function createModalMarkup(data) {\n  const {\n    id,\n    budget,\n    genres,\n    origin_country,\n    title,\n    original_title,\n    release_date,\n    revenue,\n    runtime,\n    spoken_languages,\n    vote_average,\n    vote_count,\n    overview,\n    poster_path,\n  } = data;\n\n  const genreNames = genres.map(genre => genre.name).join(', ');\n  const languages = spoken_languages\n    .map(language => language.english_name)\n    .join(', ');\n\n  let markup = `<div class=\"movie-item-detailed\" id=${id}>\n        <img src=\"${POSTER_URL}${poster_path}\" class=\"movie-poster\" alt=\"movie poster\">\n        <h2 class=\"modal-title\">${title}</h2>\n        <h3 class=\"modal-original-title\"><span class=\"modal-bold\">Original title</span>: ${original_title}</h3>\n        <p class=\"modal-genres\"><span class=\"modal-bold\">Genres:</span> ${genreNames}</p>\n        <p class=\"orig-country\"><span class=\"modal-bold\">Country of origin:</span> ${origin_country}</p>\n        <p class=\"modal-release-date\"><span class=\"modal-bold\">Release date:</span> ${release_date}</p>\n        <p class=\"modal-movie-description\"><span class=\"modal-bold\">Desription:</span> ${overview}</p>\n        <p class=\"languages\"><span class=\"modal-bold\">Spoken languages:</span> ${languages}</p>\n        <span class=\"budget\"><span class=\"modal-bold\">Budget:</span> $${(\n          budget / 1000000\n        ).toFixed()} mln</span>\n        <span class=\"revenue\"><span class=\"modal-bold\">Revenue:</span> $${(\n          revenue / 1000000\n        ).toFixed()} mln</span>\n        <p class=\"runtime\"><span class=\"modal-bold\">Time:</span> ${runtime} minutes</p>\n        <span class=\"rating\"><span class=\"modal-bold\">Rating:</span> ${vote_average}</span>\n        <span class=\"vote-count\"><span class=\"modal-bold\">Total votes:</span> ${vote_count}</span>\n      </div>`;\n\n  refs.backdrop.classList.remove('is-hidden');\n  refs.modalWrapper.innerHTML = markup;\n\n  refs.backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscKeyPress);\n  refs.closeBtn.addEventListener('click', onModalClose);\n}\n\nfunction onModalClose() {\n  refs.modalWrapper.innerHTML = '';\n\n  refs.backdrop.classList.add('is-hidden');\n  // document.body.classList.remove('modal-open');\n\n  refs.backdrop.removeEventListener('click', onModalClose);\n  refs.closeBtn.removeEventListener('click', onModalClose);\n  window.removeEventListener('keydown', onEscKeyPress);\n}\n\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    onModalClose();\n  }\n}\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    onModalClose();\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$37e33676934ad046$export$21666b427502ea6d","form","document","querySelector","moviesContainer","moviesList","targetObserverMovies","targetObserverSearch","backdrop","modalWrapper","endResultsInfo","closeBtn","$33dea9d9a6da4c9a$export$2389c26b9ec125dd","BASE_MOVIES_URL","BASE_SERIES_URL","BASE_PEOPLE_URL","SEARCH_MOVIE_URL","SEARCH_SERIES_URL","SINGLE_MOVIE_URL","SINGLE_SERIES_URL","SEARCH_PERSON_URL","SINGLE_PERSON_URL","$33dea9d9a6da4c9a$export$be3a0ca764f9df2b","id","name","$4bcacd1770b5f760$export$ae4a60d31ab53252","movies","trendingMovies","map","param","genre_ids","original_title","overview","vote_average","poster_path","genreNames","genre","find","g","filter","Boolean","join","$4bcacd1770b5f760$var$getGenres","concat","toFixed","insertAdjacentHTML","$1dd08296ea6f3ae9$export$e70f4eb8e1a081ef","foundMovies","foundItems","release_date","vote_count","$1dd08296ea6f3ae9$var$getGenres","$458a420dbe5c4a85$export$dd14e5c8db127693","key","url","searchQuery","page","$458a420dbe5c4a85$var$_searchMovie","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","_ctx","sent","console","log","t0","message","$27bd9ee829202bf4$export$7206e9da159570de","$27bd9ee829202bf4$var$_fetchSingleMovie","dataMovies","data","$a1904e15730cf304$var$POSTER_URL","$a1904e15730cf304$export$fc0ff788b21a7621","$a1904e15730cf304$var$_createModalMarkup","budget","genres","origin_country","title","revenue","runtime","spoken_languages","languages","markup","language","english_name","classList","remove","innerHTML","addEventListener","$a1904e15730cf304$var$onBackdropClick","window","$a1904e15730cf304$var$onEscKeyPress","$a1904e15730cf304$var$onModalClose","add","removeEventListener","event","code","currentTarget","target","$b8f9b7833fa37166$var$API_KEY","$b8f9b7833fa37166$var$query","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$currentSearchPage","$b8f9b7833fa37166$var$fetchTrendingMovies","currentPage1","$b8f9b7833fa37166$var$_fetchTrendingMovies","isLoading","total_pages","$lG111","notifyEndResults","$b8f9b7833fa37166$var$trendingObserver","unobserve","results","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","then","root","rootMargin","threshold","$b8f9b7833fa37166$var$_searchByName","e","moviesData","_data","total_results","preventDefault","$b8f9b7833fa37166$var$searchObserver","value","trim","length","observe","notifyNoResults","catch","err","dataFound","$b8f9b7833fa37166$var$_onMoviesItemClick","targetElement","dataId","closest","getAttribute"],"version":3,"file":"index.b502a964.js.map"}